<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>1. 함수형 프로그래밍 개요</title>
  </head>
  <body> 
    <script>
      var n = 10;
      var root = 9;
      var p = [9, 1, 4, 3, 2, 5, 6, 7, 8, 0];
      var node = {};
      var nodeStart = () => {
        node[`node_${9}`] = { left: null, value: 9, right: null};
        for(var i=1; i <= n-1; i++){
          insert(root, p[i])
        }
      }

      var insert = (root, x) => { // 9 , 1 || 9, 4 || 1, 4 || 9, 3 || 1, 3 || 4, 3
        const tempNode = node[`node_${root}`]; // { left: null, value: 4, right: null };
        if (x < root) { //  3 < 4
          // 'root 가 왼쪽 자식이 있으면'
          if ( tempNode && tempNode.left ) {
            insert(tempNode.left, x); // 1, 3 제귀 ||
          } else {
            // 'root의 왼쪽 자식을 새로 만들고, 그 곳에 x를 저장함'
            tempNode.left = x;
            node[`node_${x}`] = { left: null, value: x, right: null };
          }
        } else {
          // 'root가 오른쪽 자식이 있으면'
          if (tempNode && tempNode.right){
            insert(tempNode.right, x); // 4, 3 제귀
          } else {
            tempNode.right = x;
            node[`node_${x}`] = { left: null, value: x, right: null };
          }
        }
        
      }
      nodeStart();
      console.log(JSON.stringify(node));
       /**
        * {
        *    9: { left: 1, value: 9, right: null },
        *    1: { left: null, value: 1, right: 4 },
        *    4: { left: 3, value: 4, right: null },
        *    3: { left: null, value: 3, right: null }
        * }
        **/
    </script>
  </body>
</html>